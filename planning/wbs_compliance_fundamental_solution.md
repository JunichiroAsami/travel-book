# WBS準拠を「忘れない」仕組みの本質的な解決策

作成日：2025-11-25

## 1. 問題の本質

### 1-1. ユーザーの指摘

> 「ツールを作っても、それを使うこと自体を忘れてしまったら意味がない」

**本質的な問題**: 何をすべきかを忘れてしまう

### 1-2. なぜ忘れるのか

1. **タスク開始時に何をすべきか明確でない**
   - ユーザーが「第5章を執筆してください」と指示
   - AIが「わかりました、執筆します」と即座に開始
   - **WBSを確認するステップがない**

2. **AIのコンテキストにWBSが含まれていない**
   - AIは新しいタスクを開始する際、過去のWBSを参照しない
   - WBSファイルを読み込むことを忘れる

3. **ユーザーの指示が簡潔すぎる**
   - 「第5章を執筆してください」という指示には、WBSに従うという情報が含まれていない
   - AIは指示を文字通り解釈し、WBSを確認せずに執筆を開始

---

## 2. 本質的な解決策

### 2-1. 基本方針

**「忘れない」ためには、忘れる余地をなくす**

具体的には:
1. **タスク開始時に必ずWBSを確認する仕組み**
2. **ユーザーの指示にWBS準拠を明記する**
3. **AIの最初のアクションを「WBS確認」に固定する**

### 2-2. 解決策1：タスク開始時の強制WBS確認

**仕組み**:
- ユーザーが新しいタスクを指示する際、必ず以下の形式で指示する:

```
【タスク指示テンプレート】
タスク: 第5章を執筆してください
WBS ID: 3.5.3〜3.5.4
参照ドキュメント:
- WBS v9: /home/ubuntu/ai_travel_book_project/planning/wbs_v9.md
- 詳細設計書v3: /home/ubuntu/ai_travel_book_project/planning/detailed_designs/chapter5_detailed_design_v3.md
- 素材ファイル: /home/ubuntu/ai_travel_book_project/materials/chapters/chapter5_materials_v2.md
```

**AIの最初のアクション**:
1. WBS v9を読み込む
2. 該当するWBS ID（3.5.3〜3.5.4）のタスクを確認
3. インプット、アウトプット、品質基準を確認
4. 詳細設計書v3を読み込む
5. 素材ファイルを読み込む
6. 執筆を開始

**問題点**: ユーザーが毎回この形式で指示する必要がある（負担が大きい）

### 2-3. 解決策2：AIの初期プロンプトにWBS準拠を埋め込む

**仕組み**:
- AIのシステムプロンプト（初期指示）に、以下のルールを埋め込む:

```
【WBS準拠ルール】
新しいタスクを開始する際は、必ず以下の手順を実行すること:

1. WBS v9を読み込む
2. 該当するWBS IDを特定する
3. インプット、アウトプット、品質基準を確認する
4. 詳細設計書を読み込む
5. 素材ファイルを読み込む
6. タスクを開始する

WBSを確認せずにタスクを開始してはならない。
```

**問題点**: 
- Manusのシステムプロンプトは変更できない
- ユーザーがタスクごとにこのルールを提示する必要がある

### 2-4. 解決策3：タスク開始時のチェックリストをユーザーが提示

**仕組み**:
- ユーザーが新しいタスクを指示する際、以下のチェックリストを添付する:

```markdown
# タスク開始前チェックリスト

タスクを開始する前に、以下を必ず確認してください:

## 1. WBS v9の確認
- [ ] WBS v9を読み込む: /home/ubuntu/ai_travel_book_project/planning/wbs_v9.md
- [ ] 該当するWBS IDを特定する
- [ ] インプットを確認する
- [ ] アウトプットを確認する
- [ ] 品質基準を確認する

## 2. 詳細設計書の確認
- [ ] 詳細設計書を読み込む
- [ ] 章のタイトルを確認する
- [ ] 章の構成を確認する
- [ ] 想定文字数を確認する
- [ ] 各節の内容を確認する
- [ ] 実例の配置を確認する

## 3. 素材ファイルの確認
- [ ] 素材ファイルを読み込む
- [ ] 使用するLOGを確認する

すべてのチェックが完了してから、タスクを開始してください。
```

**問題点**: ユーザーが毎回チェックリストを提示する必要がある（負担が大きい）

### 2-5. 解決策4：Notionに標準作業手順を記載し、毎回参照

**仕組み**:
- Notionに「第X章執筆の標準作業手順」ページを作成
- ユーザーが新しいタスクを指示する際、NotionのURLを提示
- AIがNotionページを読み込み、標準作業手順に従ってタスクを実行

**Notionページの内容例**:
```markdown
# 第X章執筆の標準作業手順

## ステップ1: WBS v9の確認
1. WBS v9を読み込む: /home/ubuntu/ai_travel_book_project/planning/wbs_v9.md
2. 該当するWBS ID（3.X.3〜3.X.4）を特定する
3. インプット、アウトプット、品質基準を確認する

## ステップ2: 詳細設計書の確認
1. 詳細設計書を読み込む: /home/ubuntu/ai_travel_book_project/planning/detailed_designs/chapterX_detailed_design_v3.md
2. 章のタイトル、構成、想定文字数、各節の内容、実例の配置を確認する
3. 確認チェックリストを作成する

## ステップ3: 素材ファイルの確認
1. 素材ファイルを読み込む: /home/ubuntu/ai_travel_book_project/materials/chapters/chapterX_materials_v2.md
2. 使用するLOGを確認する

## ステップ4: 初稿作成
...

## ステップ5: 多段階レビュー
...
```

**ユーザーの指示例**:
```
第5章を執筆してください。
標準作業手順: [NotionのURL]
```

**メリット**:
- ユーザーの負担が小さい（URLを提示するだけ）
- AIは標準作業手順に従ってタスクを実行
- 標準作業手順を一元管理できる

**問題点**: 
- Notionページを作成・維持する必要がある
- AIがNotionページを読み込めるか不明（MCP経由で可能）

### 2-6. 解決策5：プロジェクトルートにREADME.mdを配置し、毎回参照

**仕組み**:
- プロジェクトルートに`README.md`を配置
- `README.md`に「タスク開始前の必須確認事項」を記載
- ユーザーが新しいタスクを指示する際、「README.mdを確認してから開始してください」と指示
- AIが`README.md`を読み込み、必須確認事項に従ってタスクを実行

**README.mdの内容例**:
```markdown
# AI旅行本プロジェクト

## タスク開始前の必須確認事項

新しいタスクを開始する前に、必ず以下を確認してください:

### 1. WBS v9の確認
- ファイル: `/home/ubuntu/ai_travel_book_project/planning/wbs_v9.md`
- 該当するWBS IDを特定
- インプット、アウトプット、品質基準を確認

### 2. 詳細設計書の確認
- ファイル: `/home/ubuntu/ai_travel_book_project/planning/detailed_designs/chapterX_detailed_design_v3.md`
- 章のタイトル、構成、想定文字数、各節の内容、実例の配置を確認

### 3. 素材ファイルの確認
- ファイル: `/home/ubuntu/ai_travel_book_project/materials/chapters/chapterX_materials_v2.md`
- 使用するLOGを確認

## 第X章執筆の標準作業手順

詳細は `/home/ubuntu/ai_travel_book_project/planning/chapter_writing_sop.md` を参照
```

**ユーザーの指示例**:
```
第5章を執筆してください。
README.mdを確認してから開始してください。
```

**メリット**:
- ユーザーの負担が小さい（「README.mdを確認してください」と指示するだけ）
- AIは`README.md`を読み込み、必須確認事項に従ってタスクを実行
- プロジェクト内で完結（Notion不要）

**デメリット**:
- ユーザーが「README.mdを確認してください」と指示することを忘れる可能性がある

### 2-7. 解決策6：タスク開始時にAIが自動的にREADME.mdを読み込む

**仕組み**:
- AIの最初のアクションとして、プロジェクトルートの`README.md`を自動的に読み込む
- `README.md`に「タスク開始前の必須確認事項」を記載
- AIは必須確認事項に従ってタスクを実行

**問題点**: 
- Manusは新しいタスクを開始する際、自動的にファイルを読み込む機能がない
- ユーザーが「README.mdを確認してください」と指示する必要がある

---

## 3. 最も実用的な解決策

### 3-1. 推奨する解決策

**解決策5（README.md方式）+ ユーザーの習慣化**

**理由**:
1. **ユーザーの負担が小さい**: 「README.mdを確認してから開始してください」と指示するだけ
2. **プロジェクト内で完結**: Notion不要
3. **一元管理**: README.mdに必須確認事項を記載
4. **柔軟性**: README.mdを更新すれば、すべてのタスクに反映

### 3-2. 実装方法

**ステップ1**: README.mdを作成

```markdown
# AI旅行本プロジェクト

## ⚠️ タスク開始前の必須確認事項

**新しいタスクを開始する前に、必ず以下を確認してください:**

### 1. WBS v9の確認
- ファイル: `/home/ubuntu/ai_travel_book_project/planning/wbs_v9.md`
- 該当するWBS IDを特定
- インプット、アウトプット、品質基準を確認

### 2. 詳細設計書の確認
- ファイル: `/home/ubuntu/ai_travel_book_project/planning/detailed_designs/chapterX_detailed_design_v3.md`
- 章のタイトル、構成、想定文字数、各節の内容、実例の配置を確認
- 確認チェックリストを作成

### 3. 素材ファイルの確認
- ファイル: `/home/ubuntu/ai_travel_book_project/materials/chapters/chapterX_materials_v2.md`
- 使用するLOGを確認

### 4. giant_material_database.mdの確認
- ファイル: `/home/ubuntu/ai_travel_book_project/materials/giant_material_database.md`
- 実際の対話ログを参照

## 第X章執筆の標準作業手順

詳細は `/home/ubuntu/ai_travel_book_project/planning/chapter_writing_sop.md` を参照

### 初稿作成（3.X.3）
1. 詳細設計書の確認（3.X.3.0）
2. プロンプト作成（3.X.3.1）
3. Geminiで生成（3.X.3.2）← **Manusが直接執筆する場合もあり**

### 多段階レビュー（3.X.4）
1. 基本的な編集作業（3.X.4.1）
2. 編集者レビュー（3.X.4.2）← ChatGPT API
3. レビュー対応・修正1（3.X.4.3）
4. 再レビュー（3.X.4.4）← ChatGPT API
5. レビュー対応・修正2（3.X.4.5）
6. **7観点レビュー（3.X.4.6）← 詳細設計書との照合を含む**
7. 最終修正（3.X.4.7）
8. ユーザー最終レビュー（3.X.4.8）
9. 最終稿確定（3.X.4.9）

## 7観点レビューの詳細

1. トレーサビリティ
2. 論理性
3. 読みやすさ
4. 実用性
5. 独自性
6. 文体の一貫性
7. **詳細設計書との照合**（章のタイトル、構成、分量、各節の内容、実例の配置、各節のまとめ）
```

**ステップ2**: ユーザーの習慣化

ユーザーが新しいタスクを指示する際、以下のテンプレートを使用:

```
【タスク指示テンプレート】
第X章を執筆してください。
README.mdを確認してから開始してください。
```

または、より簡潔に:

```
第X章を執筆してください（README.md確認）
```

### 3-3. AIの実装

AIは以下の手順でタスクを実行:

1. **README.mdを読み込む**
2. **必須確認事項を確認**
   - WBS v9を読み込む
   - 詳細設計書を読み込む
   - 素材ファイルを読み込む
   - giant_material_database.mdを読み込む
3. **確認チェックリストを作成**
4. **タスクを開始**

### 3-4. さらなる改善：AIの自己チェック

AIがタスクを開始する際、以下の自己チェックを実施:

```python
# タスク開始前の自己チェック
def pre_task_self_check():
    """
    タスク開始前に、必須確認事項を自己チェックする
    """
    checklist = {
        "README.mdを読み込んだか": False,
        "WBS v9を読み込んだか": False,
        "詳細設計書を読み込んだか": False,
        "素材ファイルを読み込んだか": False,
        "giant_material_database.mdを読み込んだか": False,
    }
    
    # 各項目をチェック
    # ...
    
    # すべてがTrueでない場合は、警告を表示
    if not all(checklist.values()):
        print("⚠️ 警告: 必須確認事項が完了していません")
        print(checklist)
        return False
    
    return True
```

---

## 4. 第5章での実証

第5章の再執筆で、以下の手順を実証します:

### ユーザーの指示
```
第5章を執筆してください。
README.mdを確認してから開始してください。
```

### AIの実行手順

**ステップ1**: README.mdを読み込む
```bash
cat /home/ubuntu/ai_travel_book_project/README.md
```

**ステップ2**: 必須確認事項を確認

1. WBS v9を読み込む
```bash
cat /home/ubuntu/ai_travel_book_project/planning/wbs_v9.md | grep "3.5.3\|3.5.4"
```

2. 詳細設計書v3を読み込む
```bash
cat /home/ubuntu/ai_travel_book_project/planning/detailed_designs/chapter5_detailed_design_v3.md
```

3. 素材ファイルを読み込む
```bash
cat /home/ubuntu/ai_travel_book_project/materials/chapters/chapter5_materials_v2.md
```

4. giant_material_database.mdを読み込む
```bash
grep -A 100 "### LOG009\|### LOG019\|### LOG029\|### LOG037\|### LOG041\|### LOG045\|### LOG050\|### LOG051" /home/ubuntu/ai_travel_book_project/materials/giant_material_database.md
```

**ステップ3**: 確認チェックリストを作成
```markdown
# 第5章 詳細設計書 確認チェックリスト

## 章のタイトル
- ✅ 第5章：冷静な危機管理コンサルタント

## 章の構成
- ✅ 第1節：健康トラブルへの対応
- ✅ 第2節：金銭トラブルへの対応
- ✅ 第3節：サービストラブルへの対応
- ✅ 第4節：物損トラブルへの対応

## 想定文字数
- ✅ 全体: 10,000～12,000文字
- ✅ 各節: 2,500～3,000文字

## 実例の配置
- ✅ 第1節: LOG019, LOG045, LOG051（銀歯脱落）
- ✅ 第2節: LOG029, LOG009, LOG041
- ✅ 第3節: LOG050
- ✅ 第4節: LOG037, LOG051（スーツケース破損）

## 各節のまとめ
- ✅ 各節に200～300文字のまとめが必要
```

**ステップ4**: タスクを開始
- 詳細設計書v3に基づいて、第5章を執筆

---

## 5. まとめ

### 5-1. 本質的な問題

**「何をすべきか」を忘れてしまう**

### 5-2. 本質的な解決策

**「忘れない」ためには、忘れる余地をなくす**

具体的には:
1. **README.mdに必須確認事項を記載**
2. **ユーザーが「README.mdを確認してください」と指示する習慣を作る**
3. **AIがREADME.mdを読み込み、必須確認事項に従ってタスクを実行**

### 5-3. 実装計画

1. README.mdを作成（0.5時間）
2. 第5章の再執筆で実証（3時間）
3. ユーザーの習慣化（継続的）

### 5-4. 期待される効果

- WBS違反を防ぐ
- 詳細設計書との齟齬を早期に検出
- 高品質な原稿を作成
- 一貫した品質基準の適用

---

**作成日時**: 2025年11月25日  
**作成者**: AI（Manus）
